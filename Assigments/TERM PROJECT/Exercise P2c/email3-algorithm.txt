@copyrighted 1999 Valerie Colber
Luis Cermeno-Farro 1837034:  
Course and section: COMSC-110-8076

1. Objective (1 sentence brief description of what this will do): 
Read user selected input file line by line and output to the console every valid email address as it is found.

2. Requirements (any and all requirements organized by input, processing, output, data):
INPUT (any data items to be input): 
-iFileName
-oFileName
-wait

PROCESSING (list of significant parts of the objective that will become the list of code blocks in program):
1. data definitions
2. user introduction
3. get filenames (input and output) using variable prompts and default filenames and input validation
4. output filenames and pause program execution until user presses enter key
5. read input file and output emails


OUTPUT (list of anything output: introduction, data items, labels, prompts) : 
-user introduction: introduction of objective, author, "This program will prompt you for two text file names, an input and an output file. The program will read you input file and then show the lines containing the character '@'.Please filetype the name of each file correctly including the extension .txt. No other file extension is yet supported.".
-prompt "Enter input filename [Press ENTER for default: " and dFileName " ]: "
-prompt "Enter output filename [Press ENTER for default: " and dFileName " ]: "
-inputValidation "Sorry, that is an invalid name. The file name must have the .txt extension. Try again please." 

DATA (list of all data items: definition, data filetype, formatting, or any other specifications):

-iFileName // (text) :  is the input file name <main>
-oFileName // (text) :  is the output file name <main>
-dFileName // (text) : is the default file name <main>
-wait // (text) : just a variable to read the ENTER key at the end of the program. <main>

-filetype // (text): is either "input" or "output" choice given to the subprogram "getFileName" <getFileName>
-dFileName // (text) : is the default file name given to the subprogram "getFileName" <getFileName>
-valid // (boolean) : is true when the input is already processed by validation function <getFileName>
-fileName // (text) : is the text entered by the user returned to the main program <getFileName>

-iFileName // (text): is the name of the input file given to the subprogram "readFile" <readFile>
-nLines // (integer) number of lines of the file <readFile>
-lineFromFile //(text) is a line read from the input file <readFile>
-nEmails // (integer) number of valid Email adresses in each line  <readFile>
-i //(integer) is a counter used to output i number of times lineFromFile <readFile>

-i; //(integer) is a counter used to process each character of the line and find an '@' <processLine>
-nEmails = 0 // (integer) number of valid Email adresses found, value returned to subprogram readFile program <processLine>
-s //(integer) is the character position in lineFromFile for the start of a possible email <processLine>
-e //(integer) is the character position in lineFromFile for the end of a possible email <processLine>
-dotPos //(integer) is the character number of lineFromFile in which the dot is <processLine>
-hasDot //(integer) is true if the possible email has a dot on their characters <processLine>
-anEmail //(string) is an sub string of lineFromFile that stores a complete valid email <processLine>


3. Algorithm instructions (recipe)

-->algorithm for subprogram "getFileName" : prompts for input for either input or output file names, also checks for default input
1010 set fileName = "No name"
1015 if filetype = "input" then output "Enter input filename [Press ENTER for default: " and dFileName " ]: " , otherwise if filetype = "input" then output "Enter output filename [Press ENTER for default: " and dFileName " ]: "
1020 input fileName
1025 if fileName length is 0 then fileName = dFileName and skip to line 1040,
1030 set valid to false
1035 if fileName length < 5 OR (character "fileName length-1" of fileName is different from 't') OR (character "fileName length-2" of fileName is different from 'x') OR (character "fileName length-3" of fileName is different from 't') OR (character "fileName length-4" of fileName is different from '.') then output "Sorry, that is an invalid name. The file name must have the .txt extension. Try again please.", otherwise set valid to true
1040 if valid = true the skip to line 1050
1045 go back to line 1015
1050 return to main program the value of fileName

-->algorithm for subprogram "readFile" : reads input file until EOF that calls function processLine for each line read from the input file
2010 set nLines = 0
2015 open input file named as the value of iFileName
2020 if the file contain errors, skip to line 2080
2025 if end-of-file is reached skip to line 2080
2030 set lineFromFile = next line of the file
2035 set nATs = value returned by subprogram processLine (give the value of lineFromFile as lineFromFile)
2040 set i  = 0
2045 if i < nATs then output lineFromFile, otherwise skip to 2060
2050 set i = i + 1
2055 go back to 2045
2060 nLines = nLines + 1
2065 go back to 2025
2080 return to main program

-->algorithm for subprogram "processLine"
3010 set nATs = 0
3015 set i = 0
3020 if i => length of lineFromFile then skip to line 3045
3025 if character i of lineFromFile is equal to '@' then nATs = nATs + 1
3030 i = i + 1
3035 go back to line 3020
3045 return to readFile subprogram the value of nATs

-->algorithm for "main" program
***data
10 set dFileName = "fileContainingEmails.txt"
***introduction 
20 output introduction: objective, author, instructions/rules
***get filenames (input and output) using variable prompts and default filenames and input validation
30 set iFileName = fileName from subprogram "getFileName" (give the values of "input" as filetype and dFileName as dFileName)
35 if iFileName = dFileName then dFileName = "copyPasteMyEmails.txt", else dFileName = iFileName
40 set oFileName = fileName from subprogram "getFileName" (give the values of "output" as filetype and dFileName as dFileName)
***output file names
50 output label for the input file name, and iFileName
55 output label for the output file name, and oFileName
60 output a prompt to press ENTER key to continue
65 input wait
***read input file and output emails
70 go to subprogram readFile (give the value of iFileName as iFileName)
999 END


4. Test cases (list purpose of each test case, any input values, and expected results)

Test case #1
-->purpose: test essential given test case
-->input for processLine function:
lineFromFile="rburns@dvc.edu";
              01234567891123
i=6
s=0
e=14
dotPos=10
hasDot=true
anEmail="rburns@dvc.edu"
nEmails=1

Essential test case #2
-->purpose: test essential given test case
-->input for processLine function:
lineFromFile="rburns@dvc.edu vcolber@dvc.edu";
              012345678911234567890123456789
-->variables after main loop for @ found in i=6:
i=6
s=0
e=14
dotPos=10
hasDot=true
anEmail="rburns@dvc.edu"
nEmails=1
-->varables after main loop for @ found in i=22:
i=22
s=15
e=30
dotPos=26
hasDot=true
anEmail="vcolber@dvc.edu"
nEmails=2


















--------TEST CASES FROM VERSION P2B-------------
Test case #1: 
-->purpose: simplest given test case
-->input file: 0.txt
Nothing
here
@
@x
x@
x@x
-->expected console I/O execution:
Enter input filename [default: fileContainingEmails.txt]: 0.txt 
Enter output filename [default: 0.txt]: y.txt 
Input file: 0.txt
Output file: y.txt
press ENTER key to continue:
@
@x
x@
x@x
-->comments: execution succesfully completed, got expected results

Test case #2 : 
-->purpose: test what if there are more than 1 @'s
-->input file: 0.txt
Nothing
here
@
@x@
x@x@x@
-->expected console I/O execution:
Enter input filename [default: fileContainingEmails.txt]: 0.txt 
Enter output filename [default: 0.txt]: y.txt 
Input file: 0.txt
Output file: y.txt
press ENTER key to continue:
@
@x@
@x@
x@x@x@
x@x@x@
x@x@x@

Test case #3 : 
-->purpose: test what if there are no lines in the text file
-->input file: 0.txt (empty)

-->expected console I/O execution:
Enter input filename [default: fileContainingEmails.txt]: 0.txt 
Enter output filename [default: 0.txt]: y.txt 
Input file: 0.txt
Output file: y.txt
press ENTER key to continue:
-comments: for future versions program should alert user about this issue

Test case #4 test what if the input file does not exist: 
-->purpose: simplest given test case
-->input file: 0.txt (does not exist)
-->expected console I/O execution:
Enter input filename [default: fileContainingEmails.txt]: 0.txt 
Enter output filename [default: 0.txt]: y.txt 
Input file: 0.txt
Output file: y.txt
press ENTER key to continue:
999 END
-comments: for future versions program should alert user about this issue

--------TEST CASES FROM VERSION P2A-------------
Test case #1: given test case (no default choices)
-->purpose: what if user enters two default choices
-->expected console I/O execution:
Enter input filename [default: fileContainingEmails.txt]: x.txt 
Enter output filename [default: x.txt]: y.txt 
Input file: x.txt
Output file: y.txt
press ENTER key to continue:

Test case #2:
-->purpose: what if user enters default choice for inputfile
-->expected console I/O execution:
Enter input filename [default: fileContainingEmails.txt]: x.txt 
Enter output filename [default: x.txt]: 
Input file: x.txt
Output file: x.txt
press ENTER key to continue:

Test case #3: 
-->purpose: what if user enters default choice for outputfile
-->expected console I/O execution:
Enter input filename [default: fileContainingEmails.txt]: 
Enter output filename [default: copyPasteMyEmails.txt]: y.txt 
Input file: fileContainingEmails.txt
Output file: y.txt
press ENTER key to continue:

Test case #4: given test case (no default choices)
-->purpose: what if user enters two default choices
-->expected console I/O execution:
Enter input filename [default: fileContainingEmails.txt]: x.txt 
Enter output filename [default: x.txt]: y.txt 
Input file: x.txt
Output file: y.txt
press ENTER key to continue:

Test case #5: 
-->purpose: test if program is able to detect an invalid input
-->expected console I/O execution:
Enter input filename [default: fileContainingEmails.txt]: .txt 
Sorry, that is an invalid name. The file name must have the .txt extension. Try again please. 
Enter input filename [default: fileContainingEmails.txt]: x.doc
Sorry, that is an invalid name. The file name must have the .txt extension. Try again please. 
Enter input filename [default: fileContainingEmails.txt]: x.txt
Enter output filename [default: x.txt]: y.txt  
Input file: x.txt
Output file: y.txt
press ENTER key to continue: